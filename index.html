<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>FootGuard Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root {
  --fg-primary:#2ecc71;
  --fg-primary-dark:#27ae60;
  --fg-bg:linear-gradient(135deg,#f5f7fa,#c3cfe2);
  --fg-card:#fff;
  --fg-radius:18px;
}

body {
  margin:0;
  font-family:system-ui,sans-serif;
  background:var(--fg-bg);
}

header {
  background:#fff;
  padding:30px;
  border-bottom:4px solid var(--fg-primary);
}

.fg-header-inner {
  max-width:1100px;
  margin:auto;
  display:flex;
  justify-content:space-between;
}

nav {
  display:flex;
  justify-content:center;
  gap:10px;
  padding:16px;
  background:rgba(255,255,255,.7);
}

.nav-btn {
  padding:10px 22px;
  border-radius:999px;
  border:1px solid #ddd;
  background:#fff;
  cursor:pointer;
  font-weight:600;
}

.nav-btn.active {
  background:var(--fg-primary);
  color:#fff;
}

main {
  max-width:1100px;
  margin:auto;
  padding:20px;
}

.card {
  background:var(--fg-card);
  border-radius:var(--fg-radius);
  padding:26px;
  margin-top:20px;
  display:none;
}

.card.active { display:block; }

.monitoring-grid {
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:16px;
}

.chart-shell {
  background:#fff;
  border-radius:16px;
  padding:16px;
  height:350px;
}

.metric-card {
  background:#fff;
  border-radius:16px;
  padding:14px;
  margin-bottom:12px;
}

.metric-value.warning { color:#e67e22; }
.metric-value.high { color:#e74c3c; }

.primary-btn {
  width:100%;
  padding:12px;
  border-radius:999px;
  border:none;
  background:var(--fg-primary);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <div class="fg-header-inner">
    <div>
      <h1>FootGuard</h1>
      <p>Diabetic Foot Ulcer Risk Monitoring</p>
    </div>
    <div><strong>Simulation Mode</strong></div>
  </div>
</header>

<nav>
  <button class="nav-btn active" data-target="overview">Overview</button>
  <button class="nav-btn" data-target="monitoring">Live Monitoring</button>
  <button class="nav-btn" data-target="advice">Clinical Advice</button>
</nav>

<main>

<section id="overview" class="card active">
  <h2>Why Monitor Diabetic Foot Ulcers?</h2>

  <p><strong>Silent Damage:</strong> Neuropathy reduces pain sensation, allowing tissue damage to occur unnoticed.</p>
  <p><strong>Pressure Causes Ulcers:</strong> Repeated high plantar pressure damages tissue before wounds appear.</p>

  <ul>
    <li>Prevents infection and hospitalization</li>
    <li>Reduces amputation risk</li>
    <li>Maintains mobility and independence</li>
  </ul>

  <h2>About FootGuard</h2>
  <p>
    FootGuard is a preventive monitoring system that tracks plantar pressure in
    real time to detect diabetic foot ulcer risk before visible damage occurs.
  </p>

  <ul>
    <li>Identifies high-pressure zones</li>
    <li>Provides early warnings</li>
    <li>Supports data-driven care</li>
  </ul>
</section>

<section id="monitoring" class="card">
  <h2>Live Plantar Pressure</h2>

  <div class="monitoring-grid">
    <div class="chart-shell">
      <canvas id="pressureChart"></canvas>
    </div>

    <div>
      <div class="metric-card">
        <span>Current Risk</span><br>
        <span id="riskLevel" class="metric-value warning">Low</span>
      </div>

      <div class="metric-card">
        <span>Confidence</span><br>
        <span id="riskConfidence">—</span>
      </div>

      <button class="primary-btn" onclick="connectDevice()">Connect Device</button>
    </div>
  </div>
</section>

<section id="advice" class="card">
  <h2>Clinical Interpretation</h2>
  <div id="adviceText">Waiting for telemetry…</div>
</section>

</main>

<script>
const tabs = document.querySelectorAll(".nav-btn");
const cards = document.querySelectorAll(".card");

tabs.forEach(tab=>{
  tab.onclick=()=>{
    tabs.forEach(t=>t.classList.remove("active"));
    cards.forEach(c=>c.classList.remove("active"));
    tab.classList.add("active");
    document.getElementById(tab.dataset.target).classList.add("active");
  }
});

let connected=false;
let chart;

function initChart(){
  const ctx=document.getElementById("pressureChart").getContext("2d");
  chart=new Chart(ctx,{
    type:"line",
    data:{
      labels:[],
      datasets:[
        {label:"Medial Sensor",data:[],borderColor:"#3498db"},
        {label:"Lateral Sensor",data:[],borderColor:"#e74c3c"}
      ]
    },
    options:{animation:false,scales:{y:{min:0,max:100}}}
  });
}

function assessRisk(avg){
  if(avg<40) return ["Low",0.9,"Pressure within safe limits."];
  if(avg<65) return ["Moderate",0.87,"Sustained pressure detected."];
  return ["High",0.93,"Immediate offloading recommended."];
}

function pushData(){
  if(!connected||!chart) return;

  const a=Math.random()*100;
  const b=Math.random()*100;

  chart.data.labels.push(new Date().toLocaleTimeString());
  chart.data.datasets[0].data.push(a);
  chart.data.datasets[1].data.push(b);

  if(chart.data.labels.length>30){
    chart.data.labels.shift();
    chart.data.datasets.forEach(d=>d.data.shift());
  }

  chart.update();

  const avg=(a+b)/2;
  const [level,conf,msg]=assessRisk(avg);

  riskLevel.textContent=level;
  riskConfidence.textContent=(conf*100).toFixed(1)+"%";
  adviceText.innerHTML=`<strong>${level} Risk:</strong> ${msg}`;
}

function connectDevice(){
  if(!chart) initChart();
  connected=true;
  alert("FootGuard simulation started");
}

setInterval(pushData,500);
</script>

</body>
</html>
